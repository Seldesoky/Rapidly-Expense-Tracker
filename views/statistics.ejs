<!DOCTYPE html>
<html>
<head>
    <title>Statistics</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
    <nav>
      <ul>
        <li><a href="/expenses">Dashboard</a></li>
        <li><a href="/expenses/new">Add New Expense</a></li>
        <li><a href="/statistics">Statistics</a></li>
        <li><a href="/users/logout">Logout</a></li>
      </ul>
    </nav>

    <div class="statistics-container">
        <h1>Expense Statistics</h1>

        <h2>Monthly Total Expenses</h2>
        <ul>
            <% for (let monthYear in monthlyTotals) { %>
                <li><span><%= monthYear %></span><span>$<%= monthlyTotals[monthYear].toFixed(2) %></span></li>
            <% } %>
        </ul>

        <h2>Yearly Total Expenses</h2>
        <ul>
            <% for (let year in yearlyTotals) { %>
                <li><span><%= year %></span><span>$<%= yearlyTotals[year].toFixed(2) %></span></li>
            <% } %>
        </ul>

        <h2>Category Breakdown</h2>
        <ul>
            <% for (let category in categoryBreakdown) { %>
                <li><span><%= category %></span><span>$<%= categoryBreakdown[category].toFixed(2) %></span></li>
            <% } %>
        </ul>

        <% if (highestExpense) { %>
            <h2>Highest Expense</h2>
            <p><span><%= highestExpense.description %></span><span>$<%= highestExpense.amount.toFixed(2) %> on <%= highestExpense.date.toLocaleDateString() %></span></p>
        <% } %>

        <% if (lowestExpense) { %>
            <h2>Lowest Expense</h2>
            <p><span><%= lowestExpense.description %></span><span>$<%= lowestExpense.amount.toFixed(2) %> on <%= lowestExpense.date.toLocaleDateString() %></span></p>
        <% } %>

        <h2>Average Spending Per Month</h2>
        <p><span>Average:</span><span>$<%= averageSpendingPerMonth.toFixed(2) %></span></p>

        <a href="/expenses">Back to Dashboard</a>
    </div>
</body>
</html>
